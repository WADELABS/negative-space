# Void Report JSON Schema

## Overview
All void reports generated by `VoidAgent.map_voids()` follow a consistent JSON structure. This enables integration with external tools, CI/CD pipelines, and data analysis platforms.

## Schema Version: 1.0

### Root Report Object
```json
{
  "schema_version": "1.0",
  "timestamp": "ISO-8601 datetime",
  "void_map_id": "string",
  "summary": { ... },
  "critical_findings": [ ... ],
  "gaps": [ ... ],
  "navigation_plan": { ... },
  "clusters": [ ... ],
  "patterns": { ... },
  "recommendations": [ ... ]
}
```

### Complete Schema
```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "NegativeSpaceVoidReport",
  "type": "object",
  "required": ["schema_version", "timestamp", "void_map_id", "summary"],
  "properties": {
    "schema_version": {
      "type": "string",
      "const": "1.0"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "void_map_id": {
      "type": "string"
    },
    "summary": {
      "type": "object",
      "properties": {
        "total_gaps": { "type": "integer" },
        "void_density": { "type": "number", "minimum": 0, "maximum": 1 },
        "navigability": { "type": "number", "minimum": 0, "maximum": 1 },
        "connectivity": { "type": "number", "minimum": 0, "maximum": 1 },
        "blocking_gaps": { "type": "integer" },
        "fillable_gaps": { "type": "integer" }
      }
    },
    "critical_findings": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "gap_id": { "type": "string" },
          "description": { "type": "string" },
          "void_type": { "type": "string", "enum": ["DEPENDENCY_GAP", "INFORMATION_GAP", "CONSTRAINT_GAP", "CAPABILITY_GAP", "CONCEPTUAL_GAP", "CAUSAL_GAP", "TEMPORAL_GAP", "ETHICAL_GAP"] },
          "criticality": { "type": "string", "enum": ["BLOCKING", "HIGH", "MEDIUM", "LOW", "UNKNOWN"] },
          "certainty": { "type": "string", "enum": ["DEFINITE", "HYPOTHESIZED", "SPECULATIVE", "EMERGENT"] }
        }
      }
    },
    "gaps": {
      "type": "array",
      "items": { "$ref": "#/definitions/Gap" }
    },
    "navigation_plan": {
      "type": "object",
      "properties": {
        "strategy": { "type": "string" },
        "path": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "gap_id": { "type": "string" },
              "description": { "type": "string" },
              "action": { "type": "string" },
              "estimated_cost": { "type": "number" },
              "estimated_time": { "type": "number" }
            }
          }
        },
        "total_cost": { "type": "number" },
        "total_time": { "type": "number" }
      }
    },
    "clusters": {
      "type": "array",
      "items": { "$ref": "#/definitions/GapCluster" }
    },
    "patterns": {
      "type": "object",
      "properties": {
        "void_density": { "type": "number" },
        "gap_distribution": { "type": "object" },
        "criticality_distribution": { "type": "object" },
        "fillability_rate": { "type": "number" }
      }
    },
    "recommendations": {
      "type": "array",
      "items": { "type": "string" }
    }
  },
  "definitions": {
    "Gap": {
      "type": "object",
      "required": ["id", "description", "void_type", "criticality", "certainty"],
      "properties": {
        "id": { "type": "string" },
        "description": { "type": "string" },
        "void_type": { "type": "string" },
        "domains": { "type": "array", "items": { "type": "string" } },
        "evidence": { "type": "array" },
        "manifestations": { "type": "array", "items": { "type": "string" } },
        "criticality": { "type": "string" },
        "certainty": { "type": "string" },
        "size": { "type": "number" },
        "clarity": { "type": "number" },
        "fillable": { "type": "boolean" },
        "fill_cost": { "type": "number" },
        "fill_time": { "type": "number" }
      }
    },
    "GapCluster": {
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "gaps": { "type": "array", "items": { "$ref": "#/definitions/Gap" } },
        "density": { "type": "number" },
        "strategic_importance": { "type": "number" }
      }
    }
  }
}
```

### Example Usage

**Python:**
```python
import json
from negative_space import VoidAgent

agent = VoidAgent()
report = await agent.map_voids(point_a, point_b)

# Save to file
with open('void_report.json', 'w') as f:
    json.dump(report, f, indent=2, default=str)

# Validate structure
assert 'schema_version' in report
assert report['summary']['void_density'] >= 0.0
```

**CLI Integration:**
```bash
# Generate report
python -m negative_space map --from current.json --to target.json --output report.json

# Query with jq
jq '.critical_findings[] | select(.criticality=="BLOCKING")' report.json
```

**CI/CD Integration:**
```yaml
# .github/workflows/void-check.yml
- name: Analyze Architecture Void
  run: |
    python -m negative_space map --from current.json --to target.json -o void.json
    BLOCKING=$(jq '.summary.blocking_gaps' void.json)
    if [ "$BLOCKING" -gt "0" ]; then
      echo "::error::Found $BLOCKING blocking gaps"
      exit 1
    fi
```
